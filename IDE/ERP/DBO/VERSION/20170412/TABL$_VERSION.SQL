EXECUTE BLOCK AS
  DECLARE VARIABLE P_SQL TYPE OF COLUMN TABL$R_COUNTRIES.NAME;
BEGIN
  IF(NOT(EXISTS(
      SELECT RF.RDB$RELATION_ID
      FROM   RDB$RELATIONS RF
      WHERE  (TRIM(RF.RDB$RELATION_NAME) = 'TABL$_VERSION')
  )))THEN
    BEGIN
    P_SQL =
      'CREATE TABLE TABL$_VERSION (     '||ASCII_CHAR(13)||ASCII_CHAR(10)||
      '  ID          DOMN$PSTRING_50_ID '||ASCII_CHAR(13)||ASCII_CHAR(10)||
      ' ,PARENT_ID   DOMN$PSTRING_50    '||ASCII_CHAR(13)||ASCII_CHAR(10)||
      ' ,NAME        DOMN$PSTRING       '||ASCII_CHAR(13)||ASCII_CHAR(10)||
      ' ,FLAG_DELETE DOMN$BOOLEAN       '||ASCII_CHAR(13)||ASCII_CHAR(10)||
      ' ,DATE_COMMIT DOMN$DATETIME      '||ASCII_CHAR(13)||ASCII_CHAR(10)||
      '); ';
    EXECUTE STATEMENT :P_SQL;
    P_SQL =
      'ALTER TABLE TABL$_VERSION ADD CONSTRAINT C_PK$_VERSION_ID '||ASCII_CHAR(13)||ASCII_CHAR(10)||
      ' PRIMARY KEY (ID) USING INDEX INDX$_VERSION_ID;';
    EXECUTE STATEMENT :P_SQL;
    P_SQL = 'CREATE INDEX INDX$_VERSION_DATE_COMMIT ON TABL$_VERSION (DATE_COMMIT);';
    EXECUTE STATEMENT :P_SQL;
    P_SQL = 'CREATE INDEX INDX$_VERSION_PARENT_ID ON TABL$_VERSION (PARENT_ID);';
    EXECUTE STATEMENT :P_SQL;
    END
END
